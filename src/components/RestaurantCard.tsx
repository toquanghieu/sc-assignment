import React, { ReactElement, useEffect } from 'react';
import { trpc } from '~/utils/trpc';
import Carousel from '~/components/Carousel/Carousel';
import CarouselItem from '~/components/Carousel/CarouselItem/CarouselItem';
import { Restaurant } from '~/types/restaurant.type';

type RestaurantCardProps = {
  restaurant: Restaurant;
  onAddRestaurantToFavourite: (restaurant: Restaurant) => void;
};

export const RestaurantCard = ({
  restaurant,
  onAddRestaurantToFavourite,
}: RestaurantCardProps): ReactElement => {
  const [res, setRes] = React.useState<Restaurant>(restaurant);
  useEffect(() => {
    setRes(restaurant);
  }, [restaurant]);
  const addToFavourite = trpc.restaurant.addFavorite.useMutation({
    async onSuccess(restaurant) {
      onAddRestaurantToFavourite(restaurant as unknown as Restaurant);
    },
  });
  const defaultImage =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAYAAAC+ZpjcAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3QmzJEXVBuAGBUUUXFDZRRQVRVH5//8AZJFFFkGFcRl3RMWVL879orFuTnZ39b1vDzDnqYgJDab7dOXTZ6LfyMrKuunJJ598b+MgQIAAAQIECBCICdwkYMUsFSJAgAABAgQInAkIWBqBAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBAgQIECAAIGwgIAVBlWOAAECBAgQICBg6QECBAgQIECAQFhAwAqDKkeAAAECBAgQELD0AAECBAgQIEAgLCBghUGVI0CAAAECBAgIWHqAAAECBAgQIBAWELDCoMoRIECAAAECBAQsPUCAAAECBAgQCAsIWGFQ5QgQIECAAAECApYeIECAAAECBAiEBQSsMKhyBAgQIECAAAEBSw8QIECAAAECBMICAlYYVDkCBAgQIECAgIClBwgQIECAAAECYQEBKwyqHAECBAgQIEBAwNIDBK6jwMc//vHNHXfcsbn99ts3n/jEJzY333zz5j//+c/mz3/+8+aPf/zj2f+/yHHLLbdsPv3pT28+9alPbT72sY9t/v3vf2/+/ve/b/7yl7+c/f+LHlWrzrX+1Gf897//3bz77rtndf/xj39ctOxH6n2f/OQnN5/5zGfObG+99dbNTTfdtPnnP/+5+dOf/nT2vb333nsXGk/VLdfbbrvtrA/Ks2zffvvtC9esEzlVL1xokN5EoLGAgNX4yzf06ydQQeWhhx7afPazn937oRWGXnvttc1f//rXVSdXP/pf/epXN/Vjvev429/+tnnzzTc377zzzqqa9aIKgnW+d9555873/Otf/9r86le/2vz2t79dXfej9MIKPmVb/7vvqCD7yiuvrA6yX/jCFzb333//mfHsqMBWAfZnP/vZpozXHqfqhbWf73UECJwXELB0BIETC9QsxTe/+c2zmY+1x1tvvbX5zW9+s/fl99577+aee+5ZW3Lzy1/+8iwQHTpqtuYb3/jGoZe9//c141Kh8KIzOas/6Dq+8O67797cd999qz+xZvZeffXVgyH2W9/61tms1ZqjPMu1fA8dp+qFQ5/r7wkQ2C0gYOkOAicUqJmlb3/720eFq+3pvPDCC2eXjGbHl770pc0DDzxw9JlfuXJl8+tf/3rn+2oWpELAMWGwitXs2Msvv3z0+XwY31AzTDV7d+xRIevpp5/e+bZHHnnk7PLwscdLL720qVnIXcepeuHY8/R6AgTOCwhYOoLACQW+//3vn62JWh71Q1zrd2rNVV0SrB/d+pEcX1fhqkLWeNTarccee+ya/15169JihZ3leqzxhfuC2+x8ayZluzao1iBV7VrnMx51GfLq1asn1Dx96QrE3/nOd675oO2aq/rO6nuqS6df/OIXr3ldjb8cxuPL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';
  return (
    <div
      key={`restaurant-card-${res.id}`}
      className="w-full max-w-sm bg-white rounded-lg relative"
    >
      <div
        className={`w-10 h-10 group transition rounded-full bg-white/25 hover:bg-white/50 flex items-center
                      justify-center absolute z-10 top-2 right-2 ${
                        res.isFavourite
                          ? 'hover:text-orange-text text-orange-text bg-white/50'
                          : 'text-white'
                      }
                      hover:cursor-pointer`}
        onClick={() => {
          addToFavourite.mutate({ id: res.id });
        }}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill={res.isFavourite ? 'currentColor' : 'none'}
          viewBox="0 0 24 24"
          strokeWidth={1.5}
          stroke="currentColor"
          className="size-6 group-hover:fill-orange-text group-hover:stroke-orange-text"
        >
          <path
            strokeLinecap="round"
            strokeLinejoin="round"
            d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"
          />
        </svg>
      </div>
      <div className="h-50">
        <Carousel showIndicators ride="carousel" stopSliding={true}>
          <div className="relative w-full overflow-hidden after:clear-both after:block after:content-[''] rounded-16">
            {res.images.map((image, index) => (
              <CarouselItem
                key={`restaurant-${res.id}-image-${index + 1}`}
                itemID={index + 1}
                className="relative h-50 float-left -mr-[100%] hidden w-full transition-transform duration-[600ms] ease-in-out motion-reduce:transition-none"
              >
                <img
                  src={image}
                  alt="Picture of the author"
                  onError={({ currentTarget }) => {
                    currentTarget.onerror = null; // prevents looping
                    currentTarget.src = defaultImage;
                  }}
                  className="object-cover"
                />
              </CarouselItem>
            ))}
          </div>
        </Carousel>
      </div>
      <div className="pb-5 mt-3">
        <div className="flex text-orange-500 text-xs">
          <div className="flex-none w-4">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              strokeWidth={1.5}
              stroke="currentColor"
              className="size-4"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"
              />
            </svg>
          </div>
          <div className="flex-1">{res.featured.text}</div>
        </div>
        <div className="flex items-center mt-2.5">
          <div className="flex-auto items-center font-semibold space-x-1 rtl:space-x-reverse text-base truncate">
            {res.name}
          </div>
          <div className="flex text-xs px-1 py-0.5 rounded ms-3">
            <div className="flex flex-1 text-orange-star self-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="currentColor"
                className="size-4"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"
                />
              </svg>
            </div>
            <div className="flex flex-1 text-sm self-center content-center">
              {res.rating ?? '-'}({res.ratingCount ?? 0})
            </div>
          </div>
        </div>
        <div className="items-center justify-between text-base truncate mt-2.5">
          {res.desc}
        </div>
        <div className="items-center justify-between text-base truncate mt-2.5">
          오사카 나카노시마 · 야키토리 · {res.priceRange}만원
        </div>
      </div>
    </div>
  );
};
